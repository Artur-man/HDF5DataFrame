% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/HDF5DataFrame.R
\name{HDF5DataFrame}
\alias{HDF5DataFrame}
\alias{HDF5DataFrame-class}
\alias{nrow,HDF5DataFrame-method}
\alias{ncol,HDF5DataFrame-method}
\alias{length,HDF5DataFrame-method}
\alias{path,HDF5DataFrame-method}
\alias{rownames,HDF5DataFrame-method}
\alias{names,HDF5DataFrame-method}
\alias{rownames<-,HDF5DataFrame-method}
\alias{names<-,HDF5DataFrame-method}
\alias{extractROWS,HDF5DataFrame,ANY-method}
\alias{extractCOLS,HDF5DataFrame-method}
\alias{[[,HDF5DataFrame-method}
\alias{replaceROWS,HDF5DataFrame-method}
\alias{replaceCOLS,HDF5DataFrame-method}
\alias{normalizeSingleBracketReplacementValue,HDF5DataFrame-method}
\alias{[[<-,HDF5DataFrame-method}
\alias{cbind,HDF5DataFrame-method}
\alias{cbind.HDF5DataFrame}
\alias{as.data.frame,HDF5DataFrame-method}
\alias{coerce,HDF5DataFrame,DFrame-method}
\title{HDF5-backed DataFrame}
\usage{
HDF5DataFrame(tab, name, columns = NULL, nrows = NULL)
}
\arguments{
\item{columns}{Character vector containing the names of columns in a Parquet file.
If \code{NULL}, this is determined from \code{path}.}

\item{nrows}{Integer scalar specifying the number of rows in a Parquet file.
If \code{NULL}, this is determined from \code{path}.}

\item{path}{String containing a path to a Parquet file.}
}
\value{
A ParquetDataFrame where each column is a \linkS4class{HDF5ColumnVector}.
}
\description{
Create a HDF5-backed \linkS4class{DataFrame}, where the data are kept on disk until requested.
}
\details{
The HDF5DataFrame is essentially just a \linkS4class{DataFrame} of \linkS4class{HDF5ColumnVector} objects.
It is primarily useful for indicating that the in-memory representation is consistent with the underlying Parquet file
(e.g., no delayed filter/mutate operations have been applied, no data has been added from other files).
Thus, users can specialize code paths for a HDF5DataFrame to operate directly on the underlying Parquet file.

In that vein, operations on a HDF5DataFrame may return another HDF5DataFrame if the operation does not introduce inconsistencies with the file-backed data.
For example, slicing or combining by column will return a HDF5DataFrame as the contents of the retained columns are unchanged.
In other cases, the HDF5DataFrame will collapse to a regular \linkS4class{DFrame} of \linkS4class{HDF5ColumnVector} objects before applying the operation;
these are still file-backed but lack the guarantee of file consistency.
}
\examples{
# Mocking up a file:
tf <- tempfile()
on.exit(unlink(tf))
arrow::write_parquet(mtcars, tf)

# Creating our HDF5-backed data frame:
df <- HDF5DataFrame(tf)
df

# Extraction yields a HDF5ColumnVector:
df$carb

# Some operations preserve the HDF5DataFrame:
df[,1:5]
combined <- cbind(df, df)
class(combined)

# ... but most operations collapse to a regular DFrame:
df[1:5,]
combined2 <- cbind(df, some_new_name=df[,1])
class(combined2)

}
\author{
Aaron Lun
}
